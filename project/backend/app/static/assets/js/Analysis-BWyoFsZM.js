import{_ as m,e as l,y as v,z as F,c as i,o as d,a as t,w,v as I,t as y,F as S,r as k,n as T,b as x}from"./index-CQj0tKbS.js";const V={class:"video-panel"},A={class:"video-wrapper"},B={class:"video-frame"},C=["src"],P={class:"video-controls"},z={class:"time-display"},D={__name:"VideoPanel",setup(f){l(!1);const e=l(0),s=l({list:[],total:1,fps:30}),h=v(()=>{const a=s.value.total||1,o=Math.min(Math.floor(e.value/100*a),a-1);return s.value.list[o]||""}),c=v(()=>{const a=s.value.total||1,o=s.value.fps||30,n=e.value/100*a/o,_=Math.floor(n/60),u=Math.floor(n%60);return`${String(_).padStart(2,"0")}:${String(u).padStart(2,"0")}`});return v(()=>(100/Math.max(s.value.total-1,1)).toFixed(4)),F(async()=>{try{const a=await fetch("/api/frames"),{total:o,prefix:n,files:_,fps:u}=await a.json(),$=p=>{p.forEach(g=>{const M=new Image;M.src=g})},b=_.map(p=>`${n}${p}`);$(b),s.value={list:b,total:Math.max(o,1),fps:Math.max(u,1)},e.value=0}catch(a){console.error("帧加载失败:",a)}}),(a,o)=>(d(),i("div",V,[t("div",A,[t("div",B,[t("img",{src:h.value},null,8,C)]),t("div",P,[w(t("input",{type:"range","onUpdate:modelValue":o[0]||(o[0]=n=>e.value=n),min:"0",max:"100",class:"progress-bar"},null,512),[[I,e.value]]),t("div",z,y(c.value),1)])])]))}},E=m(D,[["__scopeId","data-v-ade60bb2"]]),N={class:"analysis-tabs"},U={class:"tab-nav"},j=["onClick"],L={__name:"AnalysisTabs",setup(f){const e=l("分析报告"),s=["分析报告","动作分析","可视化图表"];return(h,c)=>(d(),i("div",N,[t("div",U,[(d(),i(S,null,k(s,r=>t("button",{key:r,class:T({active:e.value===r}),onClick:a=>e.value=r},y(r),11,j)),64))]),c[0]||(c[0]=t("div",{class:"tab-content"},null,-1))]))}},q=m(L,[["__scopeId","data-v-29bb4add"]]),G={class:"analysis-container"},H={class:"content-wrapper"},J={__name:"Analysis",setup(f){return(e,s)=>(d(),i("div",G,[s[0]||(s[0]=t("h2",{class:"section-title"},"分析汇总界面",-1)),t("div",H,[x(E),x(q)])]))}},O=m(J,[["__scopeId","data-v-bbf71aa6"]]);export{O as default};
