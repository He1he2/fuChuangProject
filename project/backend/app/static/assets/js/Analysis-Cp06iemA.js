import{_ as m,d as l,y as v,z as F,c as i,o as d,a as t,w,v as I,t as $,F as S,r as k,n as T,b as y}from"./index-Cb08Zueh.js";const V={class:"video-panel"},A={class:"video-wrapper"},B={class:"video-frame"},C=["src"],P={class:"video-controls"},z={class:"time-display"},D={__name:"VideoPanel",setup(f){l(!1);const a=l(0),e=l({list:[],total:1,fps:30}),h=v(()=>{const s=e.value.total||1,o=Math.min(Math.floor(a.value/100*s),s-1);return e.value.list[o]||""}),r=v(()=>{const s=e.value.total||1,o=e.value.fps||30,n=a.value/100*s/o,_=Math.floor(n/60),p=Math.floor(n%60);return`${String(_).padStart(2,"0")}:${String(p).padStart(2,"0")}`});return v(()=>(100/Math.max(e.value.total-1,1)).toFixed(4)),F(async()=>{try{const s=await fetch("http://localhost:5000/api/frames"),{total:o,prefix:n,files:_,fps:p}=await s.json(),g=u=>{u.forEach(b=>{const M=new Image;M.src=b})},x=_.map(u=>`${n}${u}`);g(x),e.value={list:x,total:Math.max(o,1),fps:Math.max(p,1)},a.value=0}catch(s){console.error("帧加载失败:",s)}}),(s,o)=>(d(),i("div",V,[t("div",A,[t("div",B,[t("img",{src:h.value,alt:"视频帧"},null,8,C)]),t("div",P,[w(t("input",{type:"range","onUpdate:modelValue":o[0]||(o[0]=n=>a.value=n),min:"0",max:"100",class:"progress-bar"},null,512),[[I,a.value]]),t("div",z,$(r.value),1)])])]))}},E=m(D,[["__scopeId","data-v-900d1eb1"]]),N={class:"analysis-tabs"},U={class:"tab-nav"},j=["onClick"],L={__name:"AnalysisTabs",setup(f){const a=l("分析报告"),e=["分析报告","动作分析","可视化图表"];return(h,r)=>(d(),i("div",N,[t("div",U,[(d(),i(S,null,k(e,c=>t("button",{key:c,class:T({active:a.value===c}),onClick:s=>a.value=c},$(c),11,j)),64))]),r[0]||(r[0]=t("div",{class:"tab-content"},null,-1))]))}},q=m(L,[["__scopeId","data-v-29bb4add"]]),G={class:"analysis-container"},H={class:"content-wrapper"},J={__name:"Analysis",setup(f){return(a,e)=>(d(),i("div",G,[t("div",H,[y(E),y(q)])]))}},O=m(J,[["__scopeId","data-v-15a1a31c"]]);export{O as default};
