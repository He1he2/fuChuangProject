import{_ as f,d as c,j as v,k as M,c as i,o as d,a as s,w as F,v as V,t as $,F as k,r as I,n as S,b as m}from"./index-Rrdt5B4n.js";import{l as T}from"./Logo-CH8SBqoM.js";const A={class:"video-panel"},B={class:"video-wrapper"},C={class:"video-frame"},P=["src"],j={class:"video-controls"},D={class:"time-display"},E={__name:"VideoPanel",setup(h){c(!1);const e=c(0),t=c({list:[],total:1,fps:30}),x=v(()=>{const a=t.value.total||1,o=Math.min(Math.floor(e.value/100*a),a-1);return t.value.list[o]||""}),r=v(()=>{const a=t.value.total||1,o=t.value.fps||30,n=e.value/100*a/o,_=Math.floor(n/60),u=Math.floor(n%60);return`${String(_).padStart(2,"0")}:${String(u).padStart(2,"0")}`});return v(()=>(100/Math.max(t.value.total-1,1)).toFixed(4)),M(async()=>{try{const a=await fetch("http://localhost:5000/api/frames"),{total:o,prefix:n,files:_,fps:u}=await a.json(),g=p=>{p.forEach(b=>{const w=new Image;w.src=b})},y=_.map(p=>`${n}${p}`);g(y),t.value={list:y,total:Math.max(o,1),fps:Math.max(u,1)},e.value=0}catch(a){console.error("帧加载失败:",a)}}),(a,o)=>(d(),i("div",A,[s("div",B,[s("div",C,[s("img",{src:x.value,alt:"视频帧"},null,8,P)]),s("div",j,[F(s("input",{type:"range","onUpdate:modelValue":o[0]||(o[0]=n=>e.value=n),min:"0",max:"100",class:"progress-bar"},null,512),[[V,e.value]]),s("div",D,$(r.value),1)])])]))}},N=f(E,[["__scopeId","data-v-900d1eb1"]]),U={class:"analysis-tabs"},z={class:"tab-nav"},L=["onClick"],q={__name:"AnalysisTabs",setup(h){const e=c("分析报告"),t=["分析报告","动作分析","可视化图表"];return(x,r)=>(d(),i("div",U,[s("div",z,[(d(),i(k,null,I(t,l=>s("button",{key:l,class:S({active:e.value===l}),onClick:a=>e.value=l},$(l),11,L)),64))]),r[0]||(r[0]=s("div",{class:"tab-content"},null,-1))]))}},G=f(q,[["__scopeId","data-v-323a5a92"]]),H={class:"analysis-container"},J={class:"analysis-nav"},K={class:"content-wrapper"},O={__name:"AnalysisView",setup(h){return(e,t)=>(d(),i("div",H,[s("nav",J,[s("h1",null,[m(T)]),t[0]||(t[0]=s("button",{class:"nav-brand"},"分析结果",-1))]),s("div",K,[m(N),m(G)])]))}},W=f(O,[["__scopeId","data-v-533d3d01"]]);export{W as default};
